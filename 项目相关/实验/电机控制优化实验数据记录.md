# 电机控制优化实验数据记录

[TOC]

## 代码版本 1

`PID_PI_Compare-1.0.ino`

`PID_PI_Compare-1.0.py`

### 数据记录1

`code_1_data_1.csv`

控制器步长：

```c++
const float kp_values[] = {0.08, 0.04, 0.06, 0.08, 0.1, 0.12, 0.14}; // P增益测试值
const float ki_values[] = {0.091, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12}; // I增益测试值
const float kd_values[] = {0.1, 0.05, 0.1, 0.15, 0.2}; // D增益测试值
```
## 代码版本 2

`PID_PI_Compare-1.1.ino`
`PID_PI_Compare-2.0.ino`

`PID_PI_Compare-1.2.py`

### 数据记录1

`code_1.1_data_1.csv` 弃用
`code_2_data_1.csv`

控制器步长:

```c++
const float kp_values[] = {0.08, 0.04, 0.06, 0.1, 0.12, 0.14}; // P增益测试值
const float ki_values[] = {0.091, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12}; // I增益测试值
const float kd_values[] = {0.1, 0.05, 0.15, 0.2}; // D增益测试值
```

处理结果:
```txt
运动阶段: ACCELERATE 的最佳参数组合:
选择最佳参数 - 控制类型: PID, 阶段: ACCELERATE, 数据量: 192

控制类型: PID
 ParamID  k_p   k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
     132 0.12 0.091 0.20             8.368442         10.063630         18.432072     1
     179 0.14 0.090 0.15             8.050829         10.398895         18.449724     2
      12 0.08 0.070 0.20             3.472673         15.058443         18.531116     3
选择最佳参数 - 控制类型: PI, 阶段: ACCELERATE, 数据量: 16

控制类型: PI
 ParamID  k_p   k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
       4 0.08 0.080  NaN             8.427638         17.282344         25.709982     1
       2 0.08 0.060  NaN             8.743218         19.733883         28.477101     2
       1 0.08 0.091  NaN            10.340882         19.825582         30.166464     3

运动阶段: DECELERATE 的最佳参数组合:
选择最佳参数 - 控制类型: PID, 阶段: DECELERATE, 数据量: 192

控制类型: PID
 ParamID  k_p   k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
      24 0.08 0.100 0.20            18.346453          9.049194         27.395647     1
     132 0.12 0.091 0.20            18.396751         10.329455         28.726206     2
     171 0.14 0.070 0.15            15.244265         13.820992         29.065257     3
选择最佳参数 - 控制类型: PI, 阶段: DECELERATE, 数据量: 16

控制类型: PI
 ParamID  k_p   k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
       9 0.04 0.091  NaN            25.165833         14.137105         39.302938     1
       3 0.08 0.070  NaN            20.407730         19.086801         39.494531     2
       5 0.08 0.090  NaN            20.976823         19.791606         40.768429     3

运动阶段: STATIONARY 的最佳参数组合:
选择最佳参数 - 控制类型: PID, 阶段: STATIONARY, 数据量: 0
未找到 PID 控制类型在 STATIONARY 阶段的最佳参数组合。
选择最佳参数 - 控制类型: PI, 阶段: STATIONARY, 数据量: 0
未找到 PI 控制类型在 STATIONARY 阶段的最佳参数组合。

运动阶段: SUDDEN_ACCELERATE 的最佳参数组合:
选择最佳参数 - 控制类型: PID, 阶段: SUDDEN_ACCELERATE, 数据量: 192

控制类型: PID
 ParamID  k_p  k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
     165 0.14 0.06 0.10            15.953015         10.432977         26.385992     1
     168 0.14 0.06 0.20            14.493010         11.956432         26.449442     2
     134 0.12 0.06 0.05            15.855755         12.225011         28.080766     3
选择最佳参数 - 控制类型: PI, 阶段: SUDDEN_ACCELERATE, 数据量: 16

控制类型: PI
 ParamID  k_p  k_i  k_d  OvershootPercentage  SteadyStateError  PerformanceScore  Rank
      10 0.04 0.06  NaN            31.210815         11.130943         42.341758     1
       2 0.08 0.06  NaN            34.887080         11.131310         46.018390     2
       3 0.08 0.07  NaN            37.723890          9.027515         46.751405     3

运动阶段: SUDDEN_STOP 的最佳参数组合:
选择最佳参数 - 控制类型: PID, 阶段: SUDDEN_STOP, 数据量: 0
未找到 PID 控制类型在 SUDDEN_STOP 阶段的最佳参数组合。
选择最佳参数 - 控制类型: PI, 阶段: SUDDEN_STOP, 数据量: 0
未找到 PI 控制类型在 SUDDEN_STOP 阶段的最佳参数组合。

所有最佳参数组合汇总完成。
所有最佳参数组合中存在 'k_d' 列。
最佳参数趋势图绘制完成。
```
